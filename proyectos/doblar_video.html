<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorial: Script de Doblaje AutomÃ¡tico de Videos</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        h2 {
            color: #34495e;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-top: 40px;
        }
        h3 {
            color: #2980b9;
            margin-top: 30px;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .info {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .success {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .step {
            background: #e8f4f8;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
        }
        .step-number {
            font-weight: bold;
            color: #17a2b8;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin: 8px 0;
        }
        .requirements {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 20px;
            margin: 15px 0;
        }
        .highlight {
            background: #ffffd0;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .file-structure {
            font-family: 'Courier New', monospace;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .command {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
        }
        .flow-diagram {
            text-align: center;
            margin: 30px 0;
        }
        .flow-diagram img {
            max-width: 100%;
            height: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        .troubleshooting {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¬ Tutorial: Script de Doblaje AutomÃ¡tico de Videos</h1>

        <div class="info">
            <h3>ğŸ“‹ Resumen Ejecutivo</h3>
            <p>Este script automatiza el proceso de doblaje de videos del inglÃ©s al espaÃ±ol. Utiliza inteligencia artificial para transcribir, traducir y generar voz, permitiendo crear versiones dobladas de videos de manera automÃ¡tica.</p>
        </div>

        <h2>ğŸ” Â¿QuÃ© Hace Este Script?</h2>

        <p>El script <strong><code>doblar.py</code></strong> es una herramienta completa que:</p>

        <ul>
            <li>ğŸ§ <strong>Extrae el audio</strong> de videos en inglÃ©s</li>
            <li>ğŸ“ <strong>Transcribe</strong> el audio a texto usando reconocimiento de voz</li>
            <li>ğŸŒ <strong>Traduce</strong> el texto del inglÃ©s al espaÃ±ol</li>
            <li>ğŸ”Š <strong>Genera audio</strong> en espaÃ±ol usando sÃ­ntesis de voz</li>
            <li>ğŸ¬ <strong>Reemplaza</strong> el audio original con el doblado</li>
            <li>ğŸ’¾ <strong>Guarda</strong> el video final en una carpeta especÃ­fica</li>
        </ul>

        <div class="flow-diagram">
            <h3>Flujo de Trabajo del Script</h3>
            <pre class="code-block">
Video Original (InglÃ©s) â†’ Extraer Audio â†’ Dividir en Segmentos â†’ Transcribir<br>
       <br>                                                          â†“
Traducir al EspaÃ±ol â†’ Generar Voz en EspaÃ±ol â†’ Combinar Audio â†’ Video Final<br>
            </pre>
        </div>

        <h2>ğŸ“‹ Requisitos del Sistema</h2>

        <div class="requirements">
            <h3>ğŸ”§ Software Requerido</h3>
            <ul>
                <li><strong>Python 3.7+</strong> - Lenguaje de programaciÃ³n base</li>
                <li><strong>FFmpeg</strong> - Para procesamiento de video/audio</li>
                <li><strong>ConexiÃ³n a Internet</strong> - Para servicios de traducciÃ³n y sÃ­ntesis de voz</li>
            </ul>

            <h3>ğŸ“¦ Dependencias de Python</h3>
            <div class="command">
pip install moviepy speechrecognition googletrans==4.0.0rc1 gtts pydub<br>
            </div>

            <h3>ğŸ’¾ Requisitos de Hardware</h3>
            <ul>
                <li><strong>CPU:</strong> Procesador moderno (recomendado 4+ nÃºcleos)</li>
                <li><strong>RAM:</strong> MÃ­nimo 4GB (recomendado 8GB+)</li>
                <li><strong>Almacenamiento:</strong> Espacio suficiente para videos originales y procesados</li>
            </ul>
        </div>

        <h2>ğŸš€ InstalaciÃ³n y ConfiguraciÃ³n</h2>

        <div class="step">
            <div class="step-number">Paso 1:</div>
            <strong>Instalar Python</strong><br>
            Descarga Python 3.7 o superior desde <a href="https://python.org" target="_blank">python.org</a>
        </div>

        <div class="step">
            <div class="step-number">Paso 2:</div>
            <strong>Instalar FFmpeg</strong><br>
            <div class="command">sudo apt-get install ffmpeg  # Ubuntu/Debian</div>
            <div class="command">brew install ffmpeg  # macOS</div>
            <div class="command">choco install ffmpeg  # Windows (con Chocolatey)</div>
        </div>

        <div class="step">
            <div class="step-number">Paso 3:</div>
            <strong>Instalar dependencias</strong><br>
            <div class="command">pip install moviepy speechrecognition googletrans==4.0.0rc1 gtts pydub</div>
        </div>

        <div class="step">
            <div class="step-number">Paso 4:</div>
            <strong>Descargar el script</strong><br>
            <a href="../codigo/doblar_video.py" download="doblar_video.py" style="color: #3498db; text-decoration: none; font-weight: bold; padding: 8px 16px; border: 2px solid #3498db; border-radius: 5px; display: inline-block; margin-top: 10px;">
                <i class="fas fa-download" style="margin-right: 8px;"></i>Descargar doblar_video.py
            </a>
        </div>

        <h2>ğŸ“ Estructura de Carpetas</h2>

        <p>El script espera la siguiente estructura de carpetas:</p>

        <div class="file-structure">
ğŸ“ Directorio de Trabajo<br>
â”œâ”€â”€ ğŸ“„ doblar.py<br>
â”œâ”€â”€ ğŸ“ original/          # â† Coloca aquÃ­ tus videos en inglÃ©s<br>
â”‚   â”œâ”€â”€ video1.mp4<br>
â”‚   â”œâ”€â”€ video2.avi<br>
â”‚   â””â”€â”€ ...<br>
â””â”€â”€ ğŸ“ doblada/           # â† AquÃ­ se guardarÃ¡n los videos doblados<br>
    â”œâ”€â”€ video1_doblado.mp4<br>
    â”œâ”€â”€ video2_doblado.mp4<br>
    â””â”€â”€ ...<br>
        </div>

        <div class="warning">
            <strong>âš ï¸ Importante:</strong> Las carpetas <code>original</code> y <code>doblada</code> se crearÃ¡n automÃ¡ticamente si no existen.
        </div>

        <h2>ğŸ¯ CÃ³mo Usar el Script</h2>

        <div class="step">
            <div class="step-number">Paso 1:</div>
            <strong>Preparar videos</strong><br>
            Copia todos los videos en inglÃ©s que quieres doblar a la carpeta <code>original/</code>
        </div>

        <div class="step">
            <div class="step-number">Paso 2:</div>
            <strong>Ejecutar el script</strong><br>
            <div class="command">python doblar.py</div>
        </div>

        <div class="step">
            <div class="step-number">Paso 3:</div>
            <strong>Esperar el procesamiento</strong><br>
            El script procesarÃ¡ automÃ¡ticamente todos los videos. El tiempo depende de la duraciÃ³n y cantidad de videos.
        </div>

        <div class="step">
            <div class="step-number">Paso 4:</div>
            <strong>Revisar resultados</strong><br>
            Los videos doblados estarÃ¡n en la carpeta <code>doblada/</code> con el sufijo "_doblado"
        </div>

        <h2>âš™ï¸ Funcionamiento TÃ©cnico Detallado</h2>

        <h3>1. ExtracciÃ³n de Audio</h3>
        <p>El script utiliza <strong>MoviePy</strong> para extraer la pista de audio del video original:</p>
        <div class="code-block">
video = VideoFileClip(video_path)<br>
audio = video.audio<br>
audio.write_audiofile("audio_original.wav")<br>
        </div>

        <h3>2. SegmentaciÃ³n por Silencios</h3>
        <p>Divide el audio en fragmentos basados en silencios para mejorar la precisiÃ³n:</p>
        <div class="code-block">
chunks = split_on_silence(audio, min_silence_len=1000, silence_thresh=-40)<br>
        </div>

        <h3>3. TranscripciÃ³n de Voz a Texto</h3>
        <p>Utiliza <strong>SpeechRecognition</strong> con Google Speech API:</p>
        <div class="code-block">
with sr.AudioFile(chunk) as source:
    audio_data = recognizer.record(source)<br>
    text = recognizer.recognize_google(audio_data, language='en-US')<br>
        </div>

        <h3>4. TraducciÃ³n AutomÃ¡tica</h3>
        <p>Traduce el texto usando <strong>Google Translate</strong>:</p>
        <div class="code-block">
translated = translator.translate(text, dest='es')<br>
spanish_text = translated.text<br>
        </div>

        <h3>5. SÃ­ntesis de Voz en EspaÃ±ol</h3>
        <p>Genera audio en espaÃ±ol con <strong>gTTS (Google Text-to-Speech)</strong>:</p>
        <div class="code-block">
tts = gTTS(text=spanish_text, lang='es')<br>
tts.save("audio_espanol.mp3")<br>
        </div>

        <h3>6. Reemplazo de Audio en Video</h3>
        <p>Combina el video original con el nuevo audio:</p>
        <div class="code-block">
video = VideoFileClip(video_path)<br>
new_audio = AudioFileClip(audio_espanol_path)<br>
final_video = video.set_audio(new_audio)<br>
final_video.write_videofile(output_path)<br>
        </div>

        <h2>ğŸ“Š Formatos de Video Soportados</h2>

        <table>
            <tr>
                <th>Formato</th>
                <th>ExtensiÃ³n</th>
                <th>Compatibilidad</th>
            </tr>
            <tr>
                <td>MP4</td>
                <td>.mp4</td>
                <td>âœ… Total</td>
            </tr>
            <tr>
                <td>AVI</td>
                <td>.avi</td>
                <td>âœ… Total</td>
            </tr>
            <tr>
                <td>QuickTime</td>
                <td>.mov</td>
                <td>âœ… Total</td>
            </tr>
            <tr>
                <td>MKV</td>
                <td>.mkv</td>
                <td>âœ… Total</td>
            </tr>
            <tr>
                <td>Windows Media</td>
                <td>.wmv</td>
                <td>âœ… Total</td>
            </tr>
            <tr>
                <td>Flash Video</td>
                <td>.flv</td>
                <td>âœ… Total</td>
            </tr>
        </table>

        <h2>ğŸ”§ ConfiguraciÃ³n Avanzada</h2>

        <h3>ParÃ¡metros de SegmentaciÃ³n</h3>
        <div class="code-block">
# En el mÃ©todo split_audio_on_silence()<br>
min_silence_len=1000,     # DuraciÃ³n mÃ­nima de silencio (ms)<br>
silence_thresh=-40        # Umbral de silencio (dB)<br>
        </div>

        <h3>Idiomas Soportados</h3>
        <div class="code-block">
# Para cambiar el idioma de destino<br>
translated_text = self.translate_text(text, target_language='es')<br>
<br>
# Idiomas disponibles: 'es', 'fr', 'de', 'it', 'pt', etc.<br>
        </div>

        <h2>ğŸš¨ SoluciÃ³n de Problemas</h2>

        <div class="troubleshooting">
            <h3>Error: "Module not found"</h3>
            <p><strong>SoluciÃ³n:</strong> Instala las dependencias faltantes:</p>
            <div class="command">pip install moviepy speechrecognition googletrans==4.0.0rc1 gtts pydub</div>
        </div>

        <div class="troubleshooting">
            <h3>Error: "FFmpeg not found"</h3>
            <p><strong>SoluciÃ³n:</strong> Instala FFmpeg en tu sistema:</p>
            <div class="command">sudo apt-get install ffmpeg  # Linux</div>
            <div class="command">brew install ffmpeg  # macOS</div>
        </div>

        <div class="troubleshooting">
            <h3>Error de conexiÃ³n a Internet</h3>
            <p><strong>SoluciÃ³n:</strong> Verifica tu conexiÃ³n. Los servicios de Google requieren internet para traducciÃ³n y sÃ­ntesis de voz.</p>
        </div>

        <div class="troubleshooting">
            <h3>Audio de mala calidad o inexistente</h3>
            <p><strong>SoluciÃ³n:</strong> AsegÃºrate de que el video tenga una pista de audio clara en inglÃ©s. Videos con audio de baja calidad pueden no transcribirse correctamente.</p>
        </div>

        <div class="troubleshooting">
            <h3>El video doblado es mÃ¡s largo/corto</h3>
            <p><strong>SoluciÃ³n:</strong> El script ajusta automÃ¡ticamente las duraciones, pero si persiste, verifica que el video original tenga audio sincronizado.</p>
        </div>

        <h2>âš¡ Optimizaciones y Mejores PrÃ¡cticas</h2>

        <div class="info">
            <h3>ğŸ’¡ Consejos para Mejor Rendimiento</h3>
            <ul>
                <li><strong>Divide videos largos:</strong> Videos de mÃ¡s de 30 minutos pueden ser problemÃ¡ticos</li>
                <li><strong>Audio de calidad:</strong> Mejor transcripciÃ³n con audio claro y sin ruido de fondo</li>
                <li><strong>ConexiÃ³n estable:</strong> Los servicios de Google requieren buena conexiÃ³n</li>
                <li><strong>Espacio en disco:</strong> Los archivos temporales requieren espacio adicional</li>
            </ul>
        </div>

        <div class="success">
            <h3>ğŸ¯ Casos de Uso Recomendados</h3>
            <ul>
                <li>ğŸ¬ Doblaje de tutoriales y cursos</li>
                <li>ğŸ“š Contenido educativo</li>
                <li>ğŸ¥ Videos corporativos</li>
                <li>ğŸ“¹ Contenido para redes sociales</li>
                <li>ğŸ® Videos de juegos y entretenimiento</li>
            </ul>
        </div>

        <h2>ğŸ“ˆ MÃ©tricas y Rendimiento</h2>

        <table>
            <tr>
                <th>Tipo de Video</th>
                <th>Tiempo de Procesamiento</th>
                <th>PrecisiÃ³n Esperada</th>
            </tr>
            <tr>
                <td>Video corto (5-10 min)</td>
                <td>2-5 minutos</td>
                <td>85-95%</td>
            </tr>
            <tr>
                <td>Video mediano (10-30 min)</td>
                <td>5-15 minutos</td>
                <td>80-90%</td>
            </tr>
            <tr>
                <td>Video largo (30+ min)</td>
                <td>15-45+ minutos</td>
                <td>75-85%</td>
            </tr>
        </table>

        <h2>ğŸ”’ Limitaciones y Consideraciones</h2>

        <div class="warning">
            <h3>âš ï¸ Limitaciones TÃ©cnicas</h3>
            <ul>
                <li><strong>Dependencia de Internet:</strong> Requiere conexiÃ³n para servicios de Google</li>
                <li><strong>PrecisiÃ³n del Reconocimiento:</strong> La transcripciÃ³n puede tener errores con audio de baja calidad</li>
                <li><strong>Idioma Limitado:</strong> Actualmente solo del inglÃ©s al espaÃ±ol</li>
                <li><strong>Procesamiento por Segmentos:</strong> Videos muy largos pueden ser problemÃ¡ticos</li>
            </ul>
        </div>

        <h2>ğŸš€ PrÃ³ximas Mejoras</h2>

        <div class="info">
            <p>Versiones futuras podrÃ­an incluir:</p>
            <ul>
                <li>ğŸŒ Soporte para mÃºltiples idiomas</li>
                <li>ğŸ­ MÃºltiples voces y acentos</li>
                <li>âš¡ Procesamiento en paralelo</li>
                <li>ğŸ¯ Interfaz grÃ¡fica de usuario</li>
                <li>ğŸ”§ ConfiguraciÃ³n personalizable avanzada</li>
            </ul>
        </div>

        <h2>ğŸ“ Soporte y Comunidad</h2>

        <div class="info">
            <p>Si encuentras problemas o tienes sugerencias:</p>
            <ul>
                <li>ğŸ“‹ Revisa la secciÃ³n de soluciÃ³n de problemas</li>
                <li>ğŸ› Verifica que todas las dependencias estÃ©n instaladas</li>
                <li>ğŸ” Busca en logs detallados del script</li>
                <li>ğŸ’¬ Comparte tu experiencia y mejoras</li>
            </ul>
        </div>

        <div class="success">
            <h3>ğŸ‰ Â¡Listo para Empezar!</h3>
            <p>Con este tutorial tienes todo lo necesario para comenzar a doblar videos automÃ¡ticamente. El script es fÃ¡cil de usar y produce resultados sorprendentemente buenos para su simplicidad.</p>

            <p><strong>Â¡Que disfrutes creando contenido doblado! ğŸ¬âœ¨</strong></p>
        </div>
    </div>

    <!-- Footer -->
    <footer style="text-align: center; padding: 20px; margin-top: 40px; background-color: #2c3e50; color: white; border-top: 3px solid #3498db;">
        <div class="container">
            <p style="margin: 0; font-size: 1.1em;">
                <strong>Â¿Te interesa este proyecto?</strong>
                <br>
                <a href="proyectos.html" style="color: #3498db; text-decoration: none; font-weight: bold; display: inline-block; margin-top: 10px; padding: 8px 16px; border: 2px solid #3498db; border-radius: 5px; transition: all 0.3s ease;">
                    <i class="fas fa-arrow-left" style="margin-right: 8px;"></i>Ver Todos mis Proyectos
                </a>
            </p>
        </div>
    </footer>
</body>
</html>
