<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual de Empleo - Generador de Subt√≠tulos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 2em;
            color: #e0e0e0;
            background-color: #121212;
        }
        h1, h2, h3 {
            color: #ffffff;
        }
        h1 {
            border-bottom: 2px solid #bb86fc;
            padding-bottom: 0.5em;
        }
        h2 {
            margin-top: 1.5em;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #1e1e1e;
            padding: 2em;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            border: 1px solid #333;
        }
        code, pre {
            background-color: #2d2d2d;
            padding: 2px 6px;
            border-radius: 4px;
            color: #f44336;
            font-family: "Courier New", Courier, monospace;
            border: 1px solid #444;
        }
        pre {
            padding: 1em;
            overflow-x: auto;
            white-space: pre-wrap;
        }
        .code {
            background: #2d2d2d;
            border: 1px solid #444;
            border-radius: 4px;
            padding: 15px;
            font-family: "Courier New", Courier, monospace;
            overflow-x: auto;
            margin: 10px 0;
        }
        .terminal {
            background: #2d2d2d;
            color: #f44336;
            border-radius: 4px;
            padding: 15px;
            font-family: "Courier New", Courier, monospace;
            margin: 10px 0;
            border: 1px solid #444;
        }
        .warning {
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 6px;
            margin-bottom: 1.5em;
            padding: 1.5em;
            color: #ff9800;
        }
        .info {
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 6px;
            margin-bottom: 1.5em;
            padding: 1.5em;
            color: #e0e0e0;
        }
        .success {
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 6px;
            margin-bottom: 1.5em;
            padding: 1.5em;
            color: #4caf50;
        }
        .toc {
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 6px;
            margin-bottom: 1.5em;
            padding: 1.5em;
        }
        .toc ul {
            list-style: none;
            padding-left: 0;
        }
        .toc li {
            margin: 5px 0;
        }
        .toc a {
            color: #bb86fc;
            text-decoration: none;
        }
        .toc a:hover {
            color: #9d4edd;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 6px;
            overflow: hidden;
        }
        th, td {
            border: 1px solid #444;
            padding: 12px;
            text-align: left;
            color: #e0e0e0;
        }
        th {
            background-color: #333;
            color: #ffffff;
        }
        ul {
            list-style-type: disc;
            padding-left: 20px;
        }
        a {
            color: #bb86fc;
            text-decoration: none;
        }
        a:hover {
            color: #9d4edd;
        }
        strong {
            color: #ffffff;
        }
        footer {
            color: #b0b0b0;
            border-top: 1px solid #444;
            margin-top: 2em;
            padding-top: 1em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìã Manual de Empleo - Generador de Subt√≠tulos</h1>

        <div class="toc">
            <h3>üìö Tabla de Contenidos</h3>
            <ul>
                <li><a href="#introduccion">Introducci√≥n</a></li>
                <li><a href="#funcionalidades">Funcionalidades Principales</a></li>
                <li><a href="#requisitos">Requisitos del Sistema</a></li>
                <li><a href="#instalacion">Instalaci√≥n</a></li>
                <li><a href="#instrucciones">Instrucciones de Uso</a></li>
                <li><a href="#ejemplos">Ejemplos Pr√°cticos</a></li>
                <li><a href="#configuracion">Configuraci√≥n Avanzada</a></li>
                <li><a href="#soluci√≥n">Soluci√≥n de Problemas</a></li>
                <li><a href="#referencia">Referencia T√©cnica</a></li>
            </ul>
        </div>

        <section id="introduccion">
            <h2>üéØ Introducci√≥n</h2>
            <p>Este proyecto es un <strong>generador autom√°tico de subt√≠tulos</strong> para archivos de video desarrollado en Python. El script procesa videos de manera inteligente, extrayendo el audio, transcribi√©ndolo a texto y generando archivos de subt√≠tulos en formato SRT (SubRip).</p>

            <div class="info">
                <strong>¬øQu√© hace exactamente?</strong>
                <ul>
                    <li>üîä <strong>Extracci√≥n de Audio:</strong> Usa FFmpeg para extraer audio de cualquier formato de video</li>
                    <li>üìù <strong>Transcripci√≥n:</strong> Convierte audio a texto usando modelos de IA (Whisper)</li>
                    <li>üåê <strong>Traducci√≥n (Opcional):</strong> Traduce subt√≠tulos a m√∫ltiples idiomas</li>
                    <li>üìÅ <strong>Generaci√≥n SRT:</strong> Crea archivos de subt√≠tulos compatibles con reproductores multimedia</li>
                </ul>
            </div>
        </section>

        <section id="funcionalidades">
            <h2>‚ö° Funcionalidades Principales</h2>

            <h3>Transcripci√≥n Inteligente</h3>
            <ul>
                <li><strong>Whisper Local:</strong> Usa modelos de OpenAI Whisper para transcripci√≥n de alta calidad</li>
                <li><strong>Ollama Integration:</strong> Soporte para modelos de IA locales v√≠a Ollama</li>
                <li><strong>Formato SRT:</strong> Genera subt√≠tulos con timestamps precisos</li>
                <li><strong>Procesamiento por Lotes:</strong> Procesa m√∫ltiples videos autom√°ticamente</li>
            </ul>

            <h3>Traducci√≥n Multiling√ºe</h3>
            <ul>
                <li><strong>Google Translate:</strong> Traducci√≥n autom√°tica a 10+ idiomas</li>
                <li><strong>Ollama Translation:</strong> Traducci√≥n usando modelos de lenguaje locales</li>
                <li><strong>Idiomas Soportados:</strong> Espa√±ol, Ingl√©s, Franc√©s, Alem√°n, Italiano, Portugu√©s, Ruso, Japon√©s, Coreano, Chino</li>
            </ul>

            <h3>Gesti√≥n Autom√°tica de Archivos</h3>
            <ul>
                <li><strong>Carpetas Organizadas:</strong> videos_entrada/ para entrada, videos_salida/ para salida</li>
                <li><strong>Limpieza Autom√°tica:</strong> Elimina archivos temporales autom√°ticamente</li>
                <li><strong>Sobrescritura Inteligente:</strong> Pregunta antes de sobrescribir archivos existentes</li>
            </ul>
        </section>

        <section id="requisitos">
            <h2>üîß Requisitos del Sistema</h2>

            <h3>Dependencias Obligatorias</h3>
            <table>
                <tr>
                    <th>Software</th>
                    <th>Prop√≥sito</th>
                    <th>Instalaci√≥n</th>
                </tr>
                <tr>
                    <td><strong>Python 3.7+</strong></td>
                    <td>Ejecutar el script</td>
                    <td>python.org</td>
                </tr>
                <tr>
                    <td><strong>FFmpeg</strong></td>
                    <td>Extraer audio de videos</td>
                    <td>ffmpeg.org</td>
                </tr>
            </table>

            <h3>Dependencias Opcionales</h3>
            <table>
                <tr>
                    <th>Software</th>
                    <th>Prop√≥sito</th>
                    <th>Comando de Instalaci√≥n</th>
                </tr>
                <tr>
                    <td><strong>OpenAI Whisper</strong></td>
                    <td>Transcripci√≥n local de alta calidad</td>
                    <td><code>pip install openai-whisper</code></td>
                </tr>
                <tr>
                    <td><strong>PyTorch</strong></td>
                    <td>Soporte para Whisper</td>
                    <td><code>pip install torch torchvision torchaudio</code></td>
                </tr>
                <tr>
                    <td><strong>Googletrans</strong></td>
                    <td>Traducci√≥n autom√°tica</td>
                    <td><code>pip install googletrans==4.0.0rc1</code></td>
                </tr>
                <tr>
                    <td><strong>Ollama</strong></td>
                    <td>Modelos de IA locales</td>
                    <td>ollama.ai</td>
                </tr>
            </table>
        </section>

        <section id="instalacion">
            <h2>üöÄ Instalaci√≥n</h2>

            <h3>1. Instalar Dependencias B√°sicas</h3>
            <div class="terminal">
nito@linux:~$ sudo apt update<br>
nito@linux:~$ sudo apt install ffmpeg python3 python3-pip<br>
            </div>

            <h3>2. Instalar Dependencias de Python</h3>
            <div class="terminal">
nito@linux:~$ pip install openai-whisper torch torchvision torchaudio<br>
nito@linux:~$ pip install googletrans==4.0.0rc1<br>
            </div>

            <h3>3. Verificar Instalaci√≥n</h3>
            <div class="terminal">
nito@linux:~$ python generar.py --help<br>
            </div>
        </section>

        <section id="instrucciones">
            <h2>üìñ Instrucciones de Uso</h2>

            <div class="info">
                <strong>üìã Contenido del Archivo "empleo":</strong>
            </div>

            <h3>1. Uso B√°sico (Recomendado)</h3>
            <div class="code">
python generar.py
            </div>
            <p><strong>Qu√© hace:</strong> Procesa todos los videos en la carpeta <code>videos_entrada/</code> usando Whisper local para transcripci√≥n.</p>

            <h3>2. Transcripci√≥n y Traducci√≥n al Espa√±ol</h3>
            <div class="code">
python generar.py --translate
            </div>
            <p><strong>Qu√© hace:</strong> Genera subt√≠tulos y los traduce autom√°ticamente al espa√±ol usando Google Translate.</p>

            <h3>3. Traducci√≥n a Otros Idiomas</h3>
            <div class="terminal">
# Traducci√≥n al ingl√©s<br>
python generar.py --translate --target-lang en<br>
<br>
# Traducci√≥n al franc√©s<br>
python generar.py --translate --target-lang fr<br>
<br>
# Traducci√≥n al alem√°n<br>
python generar.py --translate --target-lang de<br>
            </div>

            <h3>4. Usar Ollama para Traducci√≥n</h3>
            <div class="code">
python generar.py --translate --translation-method ollama<br>
            </div>
            <p><strong>Nota:</strong> Requiere tener modelos de Ollama instalados y ejecut√°ndose.</p>

            <h3>5. Especificar Modelo de Ollama</h3>
            <div class="code">
python generar.py --translate --translation-method ollama --translation-model mistral<br>
            </div>

            <h3>6. Usar Ollama para Transcripci√≥n</h3>
            <div class="warning">
‚ö†Ô∏è <strong>Advertencia:</strong> Ollama no est√° optimizado para transcripci√≥n. Se recomienda usar Whisper local.<br>
            </div>
            <div class="code">
python generar.py --use-ollama<br>
            </div>

            <h3>7. Combinar Opciones</h3>
            <div class="code">
python generar.py --translate --target-lang en --translation-method ollama<br>
            </div>
            <p>Combina m√∫ltiples opciones para personalizar el procesamiento.</p>
        </section>

        <section id="ejemplos">
            <h2>üí° Ejemplos Pr√°cticos</h2>

            <h3>Ejemplo 1: Procesamiento B√°sico</h3>
            <div class="terminal">
nito@linux:~/GENERAR_SUBTITULOS$ ls videos_entrada/<br>
01_Introduction.mp4  02_Chapter1.mp4<br>
<br>
nito@linux:~/GENERAR_SUBTITULOS$ python generar.py<br>

=============================================<br>
Procesando: 01_Introduction.mp4<br>
=============================================<br>
Extrayendo audio de videos_entrada/01_Introduction.mp4...<br>
‚úì Audio extra√≠do correctamente<br>
Usando Whisper local para transcripci√≥n...<br>
‚úì Modelo cargado en CPU<br>
Transcribiendo audio...<br>
Creando archivo SRT: videos_salida/01_Introduction.srt<br>
<br>
‚úÖ ¬°Subt√≠tulos generados exitosamente!<br>
üìÅ Archivo: videos_salida/01_Introduction.srt<br>
            </div>

            <h3>Ejemplo 2: Con Traducci√≥n</h3>
            <div class="terminal">
nito@linux:~/GENERAR_SUBTITULOS$ python generar.py --translate --target-lang en<br>

=============================================<br>
Procesando: 01_Introduction.mp4<br>
=============================================<br>
Extrayendo audio de videos_entrada/01_Introduction.mp4...<br>
‚úì Audio extra√≠do correctamente<br>
Usando Whisper local para transcripci√≥n...<br>
Traduciendo subt√≠tulos a en usando googletrans...<br>
Traduciendo segmento 1/15...<br>
Traduciendo segmento 2/15...<br>
...<br>
Creando archivo SRT: videos_salida/01_Introduction.srt<br>
<br>
‚úÖ ¬°Subt√≠tulos generados exitosamente!<br>
üåê Subt√≠tulos traducidos a en usando googletrans<br>
üìÅ Archivo: videos_salida/01_Introduction.srt<br>
            </div>

            <h3>Ejemplo 3: Archivo Espec√≠fico</h3>
            <div class="code">
python generar.py --video videos_entrada/01_Introduction.mp4<br>
            </div>
        </section>

        <section id="configuracion">
            <h2>‚öôÔ∏è Configuraci√≥n Avanzada</h2>

            <h3>Par√°metros del Script</h3>
            <table>
                <tr>
                    <th>Par√°metro</th>
                    <th>Descripci√≥n</th>
                    <th>Valor por Defecto</th>
                </tr>
                <tr>
                    <td><code>-v, --video</code></td>
                    <td>Procesar archivo espec√≠fico</td>
                    <td>Todos los archivos</td>
                </tr>
                <tr>
                    <td><code>-m, --model</code></td>
                    <td>Modelo de Ollama para transcripci√≥n</td>
                    <td>dimavz/whisper-tiny</td>
                </tr>
                <tr>
                    <td><code>--keep-audio</code></td>
                    <td>Mantener archivo de audio temporal</td>
                    <td>false</td>
                </tr>
                <tr>
                    <td><code>--use-ollama</code></td>
                    <td>Usar Ollama para transcripci√≥n</td>
                    <td>false</td>
                </tr>
                <tr>
                    <td><code>--use-whisper</code></td>
                    <td>Usar Whisper local</td>
                    <td>true (por defecto)</td>
                </tr>
                <tr>
                    <td><code>--translate</code></td>
                    <td>Habilitar traducci√≥n</td>
                    <td>false</td>
                </tr>
                <tr>
                    <td><code>--translation-method</code></td>
                    <td>M√©todo de traducci√≥n</td>
                    <td>googletrans</td>
                </tr>
                <tr>
                    <td><code>--target-lang</code></td>
                    <td>Idioma destino</td>
                    <td>es (espa√±ol)</td>
                </tr>
                <tr>
                    <td><code>--translation-model</code></td>
                    <td>Modelo de Ollama para traducci√≥n</td>
                    <td>llama3.2</td>
                </tr>
            </table>

            <h3>Estructura de Carpetas</h3>
            <div class="code">
GENERAR_SUBTITULOS/<br>
‚îú‚îÄ‚îÄ <a href="../../codigo/generar_subtitulos.py" target="_blank">generar_subtitulos.py</a>              # Script principal
‚îú‚îÄ‚îÄ empleo                  # Instrucciones de uso<br>
‚îú‚îÄ‚îÄ manual.html            # Este manual<br>
‚îú‚îÄ‚îÄ videos_entrada/        # üì• Colocar videos aqu√≠<br>
‚îÇ   ‚îú‚îÄ‚îÄ video1.mp4<br>
‚îÇ   ‚îî‚îÄ‚îÄ video2.mp4<br>
‚îî‚îÄ‚îÄ videos_salida/         # üì§ Subt√≠tulos generados<br>
    ‚îú‚îÄ‚îÄ video1.srt<br>
    ‚îî‚îÄ‚îÄ video2.srt<br>
            </div>
        </section>

        <section id="soluci√≥n">
            <h2>üîç Soluci√≥n de Problemas</h2>

            <h3>Errores Comunes</h3>

            <div class="warning">
                <strong>‚ùå FFmpeg no encontrado</strong>
                <div class="code">
Error: Faltan dependencias: ffmpeg<br>
                </div>
                <strong>Soluci√≥n:</strong>
                <div class="terminal">
sudo apt install ffmpeg  # Ubuntu/Debian<br>
# o<br>
sudo yum install ffmpeg  # CentOS/RHEL<br>
# o<br>
brew install ffmpeg      # macOS<br>
                </div>
            </div>

            <div class="warning">
                <strong>‚ùå Whisper no instalado</strong>
                <div class="code">
Whisper no est√° instalado. Instala con: pip install openai-whisper<br>
                </div>
                <strong>Soluci√≥n:</strong>
                <div class="terminal">
pip install openai-whisper torch torchvision torchaudio<br>
                </div>
            </div>

            <div class="warning">
                <strong>‚ùå Problemas con PyTorch</strong>
                <div class="code">
Error en transcripci√≥n con Whisper: [PyTorch error]<br>
                </div>
                <strong>Soluci√≥n:</strong>
                <div class="terminal">
# Para CPU only (recomendado)<br>
pip uninstall torch torchvision torchaudio<br>
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu<br>
<br>
# Para GPU (si tienes CUDA)<br>
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121<br>
                </div>
            </div>

            <div class="info">
                <strong>üí° Consejos √ötiles</strong>
                <ul>
                    <li>Usa <code>--keep-audio</code> para inspeccionar archivos de audio si hay problemas</li>
                    <li>Verifica que los videos est√©n en formato compatible (.mp4, .avi, .mkv, etc.)</li>
                    <li>Aseg√∫rate de tener suficiente espacio en disco para archivos temporales</li>
                    <li>Para mejor rendimiento, instala PyTorch con soporte GPU</li>
                </ul>
            </div>
        </section>

        <section id="referencia">
            <h2>üìö Referencia T√©cnica</h2>

            <h3>Formato SRT</h3>
            <div class="info">
                Los archivos SRT (SubRip) tienen la siguiente estructura:<br>
            </div>
            <div class="code">
1<br>
00:00:01,500 --> 00:00:04,000<br>
Hola, bienvenidos al tutorial<br>
<br>
2<br>
00:00:04,500 --> 00:00:07,200<br>
En este video aprenderemos...<br>
            </div>

            <h3>Flujo de Trabajo Interno</h3>
            <ol>
                <li><strong>Validaci√≥n:</strong> Verifica dependencias y archivos de entrada</li>
                <li><strong>Extracci√≥n:</strong> FFmpeg extrae audio del video</li>
                <li><strong>Transcripci√≥n:</strong> Whisper convierte audio a texto con timestamps</li>
                <li><strong>Traducci√≥n (Opcional):</strong> Traduce segmentos usando Google Translate u Ollama</li>
                <li><strong>Formateo:</strong> Convierte a formato SRT con timestamps precisos</li>
                <li><strong>Guardado:</strong> Almacena archivo en carpeta de salida</li>
                <li><strong>Limpieza:</strong> Elimina archivos temporales</li>
            </ol>

            <h3>C√≥digos de Idioma</h3>
            <table>
                <tr>
                    <th>C√≥digo</th>
                    <th>Idioma</th>
                    <th>C√≥digo</th>
                    <th>Idioma</th>
                </tr>
                <tr>
                    <td><code>es</code></td>
                    <td>Espa√±ol</td>
                    <td><code>en</code></td>
                    <td>Ingl√©s</td>
                </tr>
                <tr>
                    <td><code>fr</code></td>
                    <td>Franc√©s</td>
                    <td><code>de</code></td>
                    <td>Alem√°n</td>
                </tr>
                <tr>
                    <td><code>it</code></td>
                    <td>Italiano</td>
                    <td><code>pt</code></td>
                    <td>Portugu√©s</td>
                </tr>
                <tr>
                    <td><code>ru</code></td>
                    <td>Ruso</td>
                    <td><code>ja</code></td>
                    <td>Japon√©s</td>
                </tr>
                <tr>
                    <td><code>ko</code></td>
                    <td>Coreano</td>
                    <td><code>zh</code></td>
                    <td>Chino</td>
                </tr>
            </table>
        </section>

        <footer style="margin-top: 50px; padding-top: 20px; border-top: 1px solid #eee; text-align: center; color: #666;">
            <p><strong>Generador de Subt√≠tulos</strong> - Documentaci√≥n T√©cnica</p>
            <p>Desarrollado con Python | √öltima actualizaci√≥n: agosto 2025</p>
            <p>Para m√°s informaci√≥n, consulte el <a href="../../codigo/generar_subtitulos.py" target="_blank">c√≥digo fuente</a></p>
            <p><a href="./proyectos.html">‚Üê Volver a Proyectos</a></p>
        </footer>
    </div>
</body>
</html>
